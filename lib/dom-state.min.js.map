{"version":3,"sources":["dom-state.js"],"names":["_classCallCheck","instance","Constructor","_instanceof","TypeError","_typeof","obj","Symbol","iterator","constructor","prototype","left","right","hasInstance","DomState","privateData","root","element","elementId","compiledComponent","store","factories","components","privateFunctions","render","createElement","template","props","el","document","innerHTML","trim","firstChild","parentElement","removeChild","compileComponentElements","mainElement","i","childNodes","length","childElement","nodeType","Node","ELEMENT_NODE","attributes","tagName","_domStateProps","c","nodeCamelCaseName","name","replace","g","toUpperCase","value","compileVars","nodeValue","match","split","reduce","startsWith","addEventListener","substr","removeAttribute","children","createComponent","component","Array","isArray","tmpParams","undefined","ret","bind","apply","push","compile","previousWatchNodes","watchNodes","watcherName","key","newWather","node","compiled","prevState","parentNode","replaceChild","retFunction","scope","watcher","componentElement","x","watch","fromCache","watchStore","concat","map","item","Object","keys","deepCompare","valuesMap","newValue","oldValue","leftChain","rightChain","compareOnly","compare2Objects","y","p","isNaN","Date","RegExp","String","Number","toString","isPrototypeOf","indexOf","hasOwnProperty","JSON","parse","stringify","pop","from","to","forEach","DomStatePublic","this","setStore","settings","config","arguments","initialStoreState","rootElementId","addComponent","definition","addFactory","run","getElementById"],"mappings":"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"}